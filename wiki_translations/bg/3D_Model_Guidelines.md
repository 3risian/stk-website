---
title: Насоки за 3-измерните модели
toc: true
---
Важно е всички обекти в Супер Тъкс Карт да имат един и същ стил. В много от нещата тази страница е аналогична на тази с [насоките за текстурите](Texture_Guidelines).

## Стил

{% capture real_plam_tree -%}

Истинско палмово дърво

{%- endcapture -%}

{%- capture cartoony_plam_tree -%}

Модел на палмово дърво в анимационен стил

{%- endcapture -%}

{%- capture realistic -%}

Реалистичен, но опростен модел

{%- endcapture -%}

Обектите в Супер Тъкс Карт трябва да бъдат с реалистичен размер, форма и общ вид. Но не трябва да имат толкова много детайли като в реалния свят. Вижте, например, това палмово дърво:

{% gallery heights=250px
/assets/wiki/RealPalmTree.jpg,{{ real_plam_tree | strip }}
/assets/wiki/STK0.8.1_1.jpg,{{ cartoony_plam_tree | strip }}
/assets/wiki/STK0.9_7.jpg,{{ realistic | strip }}
%}

Може да забележите, че новият модел на палмовото дърво много по-добре отразява формата на истинско палмово дърво. Но няма толкова много детайли, че да изглежда като истинско.  Накратко:<u>стремете се към реализъм спрямо цялостния вид, но придавайте по-анимационен стил, като не прекалявате с детайлите във формите и текстурите.</u>

Да речем, че искате да създадете бетонна ограда. Всеки знае как изглежда подобна ограда – вероятно виждате подобни всеки ден на път за работа. Отваряте Blender и правите нещо такова:

{% gallery
/assets/wiki/STK_tutorial_barrier_1.jpg
%}

Проблемът е, че липсват много детайли и обектът става прекалено опростен. Изглежда твърде елементарен и ако правите всичките си обекти така, крайният резултат няма да е много добър. Решението е просто – съберете снимки, рисунки, идеи и т.н., които да Ви помогнат в процеса на създаването на обекта. Не бива да се чувствате сякаш мамите – това всъщност е позволен и дори препоръчителен начин на работа. Целта е да получите нужното вдъхновение. Със снимка като [тази](https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/BarreiraNewJersey.JPG/1280px-BarreiraNewJersey.JPG), можете да видите всички детайли и да ги възпроизведете в обекта си.

{% gallery
/assets/wiki/STK_tutorial_barrier_2.jpg
%}

Виждате ли колко голяма е разликата? Оградата е интересна за гледане – вече има много детайли, като теловете отгоре за повдигане, предупредителната лента отдолу и т.н. Не е реалистична, но поне сега имаме обект с интересни детайли, който прилича на истинска ограда. (А и не гоним пълен реализъм – само частичен.)

## Правила

* Всички модели **ТРЯБВА** да бъдат подходящи за деца. Супер Тъкс Карт Трябва да отговарят на условията на [рейтинга](https://bg.wikipedia.org/wiki/Entertainment_Software_Rating_Board#%D0%A0%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B8) ESRB „За всички“.
* Моделите трябва да могат да изглежда добре както самостоятелно, така и в групи.
* Моделите с много полигони трябва да ползват [нива на детайл](Level_of_Detail).
* Освен ако моделът Ви не е обвързан с определена писта, обектите трябва да могат да се ползват в много различни обстановки, така че да могат да се преизползват.
    * Избягвайте добавянето на земя или растителност около обектите си (освен ако самият обект не е някакъв вид растителност).
    * Хората трябва да са облечени с нормални дрехи, освен в случаите, когато това не е логично – например на плажа.

## Брой на полигоните

Броят на полигоните е броят на повърхнините в 3-измерния обект. По-старите версии на Blender поддържаха само обекти, изградени от четириъгълници (полигони определени от четири точки) и триъгълници (полигони определени от три точки). Броят на полигоните в този случай означава „броят на четириъгълниците“. Сега Blender поддържа полигони изградени от неограничен брой точки и показва само броя на повърхнините и триъгълниците. Затова, понеже броят на триъгълниците е постоянен (триъгълникът не може да получи повече точки – тогава вече не би бил триъгълник),  е по-точно да се броят триъгълниците, а не полигоните. Затова и в тези насоки се отчита само броят на триъгълниците.

### Малко история

При по-старите технологии беше невъзможно да се изчисли перфектно осветяването на всеки пиксел. Всички натоварващи изчисления се правеха за полигоните, и това интеполират за пикселите в полигона.

Но в днешно време изчислението на осветяването за всеки пиксел е възможно. Затова най-сложната част вече не е във вертексния шейдър, а в пикселния. Да вземем за пример обект, който има ~500 полигона. За графичния процесор обработката на един вертекс може би изисква ~10 инструкции (това не е точно число, а само за целите на примера). За всеки полигон от модела, компютърът ще изпълни ~10 инструкции, тоест 500 × 10 = 5000 инструкции за целия модел.

И сега стигаме до пикселната част. Тук всичко зависи от това колко пиксела на екрана ще бъдат заети от модела, но нека предположим, че сме в най-натоварващия случай – обектът запълва целия екран. За всеки пиксел изчисленията (на осветяването, лъскавината, нормалната карта и т.н.) ще изискват ~50 инструкции да бъдат изпълнени от графичния процесор.

Ако разделителната способност на екрана е 800 × 600 (повечето хора използват по-голяма разделителна способност), това са 800 × 600 × 50 = 24,000,000 инструкции. Така че дори да удвоим броя на повърхнините, това няма да натовари много повече графичния процесор. Сега изчисленията се правят за всеки пиксел, а не за всяка повърхнина.

Затова можем да увеличим броя на полигоните без много проблеми. И все пак е добре да не се прекалява.

### Измерване на броя на полигоните

Blender показва броя на полигоните в лентата на състоянието – вижте снимката по-долу. Ако при Вас не се вижда, може би трябва да се включи чрез десен бутон върху лентата на състоянието и избиране на опцията **Статистики за сцената**:

{% single_gallery
/assets/wiki/Blender_screenshot_tris.jpg
%}

Следете броя на **Триъгълниците**. Това е информацията, която Ви трябва. Също така помнете, че броят на триъгълниците в цялата сцена се показва само в обектния режим.

### Примери за броя на полигоните

* Товарен самолет : ~4000 триъгълника
* Палмово дърво с Нива на детайл
    * Високо ниво: 843 триъгълника
    * Средно ниво: 465 триъгълника
    * Ниско ниво: 42 триъгълника
* Просто растение: 32 триъгълника
* Средно голямо дърво: 1380 триъгълника
* Тиква: 470 триъгълника

### Отбелязване на обектите като такива с много полигони

Възможно е определени обекти да бъдат отбелязани като такива, които изискват по-мощен компютър. За да направите това, отворете някоя сцена от СТК в Blender, изберете обекта, който искате да отбележите, и поставете отметка на **Enable geometry visibility details** (Включване на подробностите относно видимостта на геометрията) в панела **SuperTuxKart Object Properties** (Свойства на обект за Супер Тъкс Карт). След това може да зададете на настройката **Visibility** (Видимост) някоя от наличните опции, така че да определите минималното ниво на графични ефекти, при което обектът да бъде видим.

## Скалиране

Обектите трябва да имат правилни пропорции, така че да не изглеждат странно в играта.

* Едно палмово дърво трябва да бъде високо около 27 единици на Blender.
* Дървените сгради в пистата „Северен курорт“ са високи около 8 единици на Blender.
* Знамената на „Lampone“ в „Град Кандела“ са високи около 10 единици на Blender.
